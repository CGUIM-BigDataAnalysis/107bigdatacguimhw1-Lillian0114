107-2 大數據分析方法 作業一
================
B0544203石家安

搞不清楚各行各業的薪資差異嗎? 念研究所到底對第一份工作的薪資影響有多大? CP值高嗎? 透過分析**初任人員平均經常性薪資**- [開放資料連結](https://data.gov.tw/dataset/6647)，可初步了解台灣近幾年各行各業、各學歷的起薪。

比較103年度和106年度大學畢業者的薪資資料
----------------------------------------

### 資料匯入與處理

●  載入packages

``` r
library(readr)
```

    ## Warning: package 'readr' was built under R version 3.5.3

``` r
library(dplyr)
```

    ## 
    ## Attaching package: 'dplyr'

    ## The following objects are masked from 'package:stats':
    ## 
    ##     filter, lag

    ## The following objects are masked from 'package:base':
    ## 
    ##     intersect, setdiff, setequal, union

●  將指定檔案匯入r

``` r
education103 <- read_csv("~/R/hw1/education103.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_double(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

``` r
education106 <- read_csv("~/R/hw1/education106.csv")
```

    ## Parsed with column specification:
    ## cols(
    ##   年度 = col_double(),
    ##   大職業別 = col_character(),
    ##   `經常性薪資-薪資` = col_double(),
    ##   `經常性薪資-女/男` = col_character(),
    ##   `國中及以下-薪資` = col_character(),
    ##   `國中及以下-女/男` = col_character(),
    ##   `高中或高職-薪資` = col_character(),
    ##   `高中或高職-女/男` = col_character(),
    ##   `專科-薪資` = col_character(),
    ##   `專科-女/男` = col_character(),
    ##   `大學-薪資` = col_character(),
    ##   `大學-女/男` = col_character(),
    ##   `研究所及以上-薪資` = col_character(),
    ##   `研究所及以上-女/男` = col_character()
    ## )

●  只取出需要用到的欄位(年度、職業類別、"大學"畢業薪資)，為了讀取方便將選取欄位重新命名<br/> 	並為了不讓欄位以Factor之型態儲存，故設定stringsAsFactors = F

``` r
education103<-data.frame(Job=education103$大職業別,
                         Salary_College=education103$`大學-薪資`,stringsAsFactors = F) 
education106<-data.frame(Job=education106$大職業別,
                         Salary_College=education106$`大學-薪資`,stringsAsFactors = F)
```

●  透過職業別inner\_join，篩選出103與106都有的職業別，故by用Job欄位進行篩選<br/> 此外，為了讀取方便將選取欄位重新命名

``` r
edu103to106<-inner_join(education103,education106,by="Job")
names(edu103to106)<-c("Job","Salary103_College","Salary106_College")
```

●  將原Dataframe薪資表空值的符號—，轉為NA<br/> ●  因要新增一欄位比較103與106的畢業薪資，故需將原character型態的兩薪資欄位轉為numeric

``` r
edu103to106$Salary103_College<-gsub("—","NA",edu103to106$Salary103_College)
edu103to106$Salary106_College<-gsub("—","NA",edu103to106$Salary106_College)

edu103to106$Salary103_College<-as.numeric(edu103to106$Salary103_College)
edu103to106$Salary106_College<-as.numeric(edu103to106$Salary106_College)
edu103to106$SalaryIncrease<-edu103to106$Salary106_College/edu103to106$Salary103_College
```

### 106年度薪資較103年度薪資高的職業有哪些?

``` r
HigherWage<-filter(edu103to106,SalaryIncrease>1) 
HigherWage<-HigherWage[order(HigherWage$SalaryIncrease,decreasing = T),]
knitr::kable(head(HigherWage,10)) 
```

|     | Job                                       |  Salary103\_College|  Salary106\_College|  SalaryIncrease|
|-----|:------------------------------------------|-------------------:|-------------------:|---------------:|
| 76  | 其他服務業-技術員及助理專業人員           |               24688|               27929|        1.131278|
| 47  | 住宿及餐飲業-服務及銷售工作人員           |               22564|               25486|        1.129498|
| 20  | 用水供應及污染整治業-技術員及助理專業人員 |               27944|               31560|        1.129402|
| 27  | 營造業-服務及銷售工作人員                 |               27164|               30125|        1.109005|
| 75  | 其他服務業-專業人員                       |               29000|               32000|        1.103448|
| 49  | 資訊及通訊傳播業-專業人員                 |               28839|               31817|        1.103263|
| 58  | 不動產業-專業人員                         |               30637|               33632|        1.097758|
| 67  | 教育服務業-事務支援人員                   |               22334|               24471|        1.095684|
| 45  | 住宿及餐飲業-技術員及助理專業人員         |               25633|               28009|        1.092693|
| 77  | 其他服務業-事務支援人員                   |               23863|               26007|        1.089846|

### 提高超過5%的的職業有哪些?

``` r
OverFivePercent<-HigherWage[HigherWage$SalaryIncrease>1.05,]
OverFivePercent<-OverFivePercent[complete.cases(OverFivePercent),]
knitr::kable(OverFivePercent) 
```

|     | Job                                       |  Salary103\_College|  Salary106\_College|  SalaryIncrease|
|-----|:------------------------------------------|-------------------:|-------------------:|---------------:|
| 76  | 其他服務業-技術員及助理專業人員           |               24688|               27929|        1.131278|
| 47  | 住宿及餐飲業-服務及銷售工作人員           |               22564|               25486|        1.129498|
| 20  | 用水供應及污染整治業-技術員及助理專業人員 |               27944|               31560|        1.129402|
| 27  | 營造業-服務及銷售工作人員                 |               27164|               30125|        1.109005|
| 75  | 其他服務業-專業人員                       |               29000|               32000|        1.103448|
| 49  | 資訊及通訊傳播業-專業人員                 |               28839|               31817|        1.103263|
| 58  | 不動產業-專業人員                         |               30637|               33632|        1.097758|
| 67  | 教育服務業-事務支援人員                   |               22334|               24471|        1.095684|
| 45  | 住宿及餐飲業-技術員及助理專業人員         |               25633|               28009|        1.092693|
| 77  | 其他服務業-事務支援人員                   |               23863|               26007|        1.089846|
| 68  | 教育服務業-服務及銷售工作人員             |               24491|               26668|        1.088890|
| 18  | 用水供應及污染整治業                      |               27456|               29834|        1.086611|
| 19  | 用水供應及污染整治業-專業人員             |               31444|               34107|        1.084690|
| 48  | 資訊及通訊傳播業                          |               27055|               29198|        1.079209|
| 63  | 支援服務業-服務及銷售工作人員             |               24166|               26001|        1.075933|
| 51  | 資訊及通訊傳播業-事務支援人員             |               25276|               27156|        1.074379|
| 64  | 教育服務業                                |               24027|               25784|        1.073126|
| 24  | 營造業-專業人員                           |               30580|               32785|        1.072106|
| 43  | 住宿及餐飲業                              |               24646|               26398|        1.071087|
| 17  | 電力及燃氣供應業-服務及銷售工作人員       |               26013|               27837|        1.070119|
| 40  | 運輸及倉儲業-技術員及助理專業人員         |               28974|               30993|        1.069683|
| 41  | 運輸及倉儲業-事務支援人員                 |               25886|               27685|        1.069497|
| 71  | 醫療保健服務業-技術員及助理專業人員       |               28465|               30392|        1.067697|
| 61  | 支援服務業-技術員及助理專業人員           |               26933|               28696|        1.065459|
| 22  | 用水供應及污染整治業-服務及銷售工作人員   |               28736|               30593|        1.064623|
| 66  | 教育服務業-技術員及助理專業人員           |               25675|               27250|        1.061344|
| 29  | 服務業部門-專業人員                       |               30806|               32632|        1.059274|
| 38  | 運輸及倉儲業                              |               28143|               29808|        1.059162|
| 50  | 資訊及通訊傳播業-技術員及助理專業人員     |               27288|               28902|        1.059147|
| 21  | 用水供應及污染整治業-事務支援人員         |               25430|               26924|        1.058750|
| 56  | 金融及保險業-事務支援人員                 |               29070|               30771|        1.058514|
| 30  | 服務業部門-技術員及助理專業人員           |               27882|               29504|        1.058174|
| 26  | 營造業-事務支援人員                       |               24892|               26256|        1.054797|
| 2   | 工業及服務業部門-專業人員                 |               30449|               32108|        1.054485|
| 31  | 服務業部門-事務支援人員                   |               25554|               26930|        1.053847|
| 65  | 教育服務業-專業人員                       |               25722|               27101|        1.053612|
| 28  | 服務業部門                                |               27258|               28715|        1.053452|
| 74  | 其他服務業                                |               24232|               25517|        1.053029|
| 13  | 製造業-專業人員                           |               30035|               31612|        1.052505|
| 7   | 工業部門-專業人員                         |               30215|               31775|        1.051630|
| 52  | 資訊及通訊傳播業-服務及銷售工作人員       |               25995|               27296|        1.050048|

### 主要的職業種別是哪些種類呢?

``` r
JobType<-strsplit(OverFivePercent$Job,"-")
for(n in 1:length(JobType)){
  JobType[n]<-JobType[[n]][1]
}
knitr::kable( sort(table(unlist(JobType)),decreasing = T) ) 
```

| Var1                 |  Freq|
|:---------------------|-----:|
| 用水供應及污染整治業 |     5|
| 教育服務業           |     5|
| 資訊及通訊傳播業     |     5|
| 其他服務業           |     4|
| 服務業部門           |     4|
| 住宿及餐飲業         |     3|
| 運輸及倉儲業         |     3|
| 營造業               |     3|
| 支援服務業           |     2|
| 工業及服務業部門     |     1|
| 工業部門             |     1|
| 不動產業             |     1|
| 金融及保險業         |     1|
| 電力及燃氣供應業     |     1|
| 製造業               |     1|
| 醫療保健服務業       |     1|

男女同工不同酬現況分析
----------------------

男女同工不同酬一直是性別平等中很重要的問題，分析資料來源為103到106年度的大學畢業薪資。

### 103到106年度的大學畢業薪資資料，哪些行業男生薪資比女生薪資多?

``` r
#這是R Code Chunk
```

### 哪些行業女生薪資比男生薪資多?

``` r
#這是R Code Chunk
```

研究所薪資差異
--------------

以106年度的資料來看，哪個職業別念研究所最划算呢 (研究所學歷薪資與大學學歷薪資增加比例最多)?

``` r
#這是R Code Chunk
```

我有興趣的職業別薪資狀況分析
----------------------------

### 有興趣的職業別篩選，呈現薪資

``` r
#這是R Code Chunk
```

### 這些職業別研究所薪資與大學薪資差多少呢？

``` r
#這是R Code Chunk
```
